あなたはプロダクトエンジニア兼UI設計者です。
以下の仕様のWebサービス「私の本棚」を、Goを基盤として実装します。
目的は“読書好きの自己紹介”として使える、スタイリッシュで見やすいカード型本棚ページです。

# 1. サービス概要
- ユーザーは「本棚」を作り、本を登録し、公開URLで他人に共有できる。
- 読書記録SNSではなく「お気に入り本で自己紹介するプロフィール拡張」がメイン。
- UIはカード型で表紙画像が映えるデザイン。モダンでおしゃれ。スマホでも見やすい。
- SNS共有（Twitter/X）時にOGPカードが綺麗に出ることが重要。

# 2. 機能要件（MVP）
## 本棚
- 本棚には最大5冊の本を登録できる（無料枠）。
- 本をクリックすると詳細モーダル/詳細ページで「一言コメント」を見られる。
- 本棚が完成したら公開URLを生成する。

## URL仕様
- ユーザー登録あり：/{userID}/{slug}
- ユーザー登録なし（ゲスト共有）：/share/{16文字の英字ランダム}
- slugは任意文字列（URL安全文字）。予約語（share等）は使えない。

## 書籍情報取得
- ユーザーがタイトル/ISBNで検索し、候補から選べる。
- 取得できると嬉しい：タイトル、著者、表紙画像URL、概要（あれば）
- APIは Google Books API / openBD / 楽天ブックスAPI 等を候補として抽象化し、実装を差し替え可能に。

## 書斎ページ（将来）
- 複数本棚をまとめる個人ページ（/u/{userID} など）
- ここはMVPではなく拡張として設計だけ確保。

# 3. 非機能要件
- VPSで動く構成を前提（Docker + Nginx + Go + DB）。
- DBはPostgreSQL推奨（SQLiteでもMVP可）。移行しやすい構造に。
- 画像は外部URL参照が基本。必要ならプロキシ/キャッシュは拡張。
- セキュリティ：パスワードはハッシュ化（bcrypt/argon2）、CSRF対策、入力バリデーション。
- 監視/ログ：構造化ログ（zap等）と最低限のメトリクス導入余地。
- OGP：本棚ページに title/description/og:image を生成する。

# 4. デザイン要件（超重要）
- “余白”を大切に。カードは角丸、軽い影、タイポグラフィはシンプル。
- 表紙画像が主役。背景は落ち着いたグレー/白基調を想定。
- 5冊が美しく並ぶグリッド（PC: 5列 or 3+2 / Mobile: 2列）。
- 本のタイトルは短縮表示、hoverでフル表示など。
- クリックで詳細表示（モーダルでも別ページでもOK）。

# 5. 技術選定（提案して）
- GoのWebフレームワーク候補：Chi / Echo / Gin（理由付きで推奨を選ぶ）
- HTMLレンダリング：サーバサイド（テンプレ）or SPA（どっちがMVP向きか提案）
- CSS：Tailwind CSS or 自前CSS（MVPで最速におしゃれになる案で）
- DBアクセス：sqlc / ent / gorm / database/sql（推奨を選ぶ）
- 設計：クリーンアーキテクチャまでは重くしないが、層を分けて保守しやすく。

# 6. あなたの出力フォーマット
次の形式で具体的に出してください。

A) システム構成図（文章でOK）
- Nginx, Go app, DB, 外部APIの関係

B) ディレクトリ構成案（Goプロジェクトのフォルダ）
- /cmd, /internal, /web, /migrations など

C) DB設計（テーブル定義案）
- users, shelves, shelf_items 等（カラムとインデックス、制約）
- ゲスト本棚対応も含む

D) API設計（エンドポイント一覧）
- 本検索、棚作成、棚更新、公開ページ取得、share生成等

E) 画面設計（ページ/コンポーネント）
- トップ、棚作成、棚編集、棚公開、詳細モーダル等
- OGPがどう表示されるべきかも

F) 実装ステップ（Phase 0〜）
- まず作る順番、最小機能、テスト、デプロイ

G) 主要な落とし穴と対策
- URL衝突、外部画像リンク切れ、API制限、X共有、OGP生成など

制約：
- できるだけ“作り始められるレベル”まで具体化する
- 実装の複雑化を避け、MVPとして最短で公開できる道筋を優先する